<!DOCTYPE html>                
<html lang="ar" dir="rtl">                
<head>                
<meta charset="UTF-8">                
<meta name="viewport" content="width=device-width, initial-scale=1.0">                
<title>Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØ§Ù†</title>                
<link rel="stylesheet" href="style.css">                
<style>                
body { font-family: Arial, sans-serif; background-color: #121212; color:#e0e0e0; margin:0; padding:0; }                
.container { max-width: 600px; margin: 30px auto; background-color: #1e1e1e; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #000; }                
h2 { text-align:center; margin-bottom:20px; }                
label { display:block; margin:10px 0 5px; }                
input, textarea, select, button { width:100%; padding:8px; border-radius:5px; border:1px solid #555; background-color:#2c2c2c; color:#e0e0e0; }                
button { margin-top:15px; cursor:pointer; background-color:#25d366; color:#fff; font-weight:bold; border:none; }                
button#goToManage { background-color:#128c7e; }                
#previewImg { max-width:100%; margin-top:10px; display:none; border-radius:5px; }                
.success { color: #00ff7f; margin-top:10px; font-weight:bold; }                
</style>                
</head>                
<body>                
<div class="container">                
<h2>Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØ§Ù† Ø¬Ø¯ÙŠØ¯</h2>                
<label>Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØ§Ù†:</label>                
<select id="placeType">                
    <option value="hotel">ÙÙ†Ø¯Ù‚</option>                
    <option value="restaurant">Ù…Ø·Ø¹Ù…</option>                
    <option value="store">Ù…Ø­Ù„ ØªØ¬Ø§Ø±ÙŠ</option>                
</select>                
<label>Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØ§Ù†:</label>                
<input type="text" id="placeName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØ§Ù†">                
<label>Ø§Ø®ØªØ± ØµÙˆØ±Ø©:</label>                
<input type="file" id="placeFile">                
<img id="previewImg" />                
<label>Ø£Ùˆ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>                
<input type="text" id="placeImage" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">                
<label>Ø±Ø§Ø¨Ø· Google Maps:</label>                
<input type="text" id="placeMap">                
<div id="hotelFields">                
    <label>Ø³Ø¹Ø± Ø§Ù„Ù„ÙŠÙ„Ø©:</label><input type="text" id="priceNight">                
    <label>Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹:</label><input type="text" id="priceWeek">                
    <label>Ø³Ø¹Ø± Ø§Ù„Ø´Ù‡Ø±:</label><input type="text" id="priceMonth">                
    <label>Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ØªØ´Ù…Ù„:</label><textarea id="hotelExtras" rows="3"></textarea>                
</div>                
<div id="otherFields">
    <label>ØªØµÙ†ÙŠÙ Ø§Ù„Ù…ÙƒØ§Ù† (Ù…Ø«Ø§Ù„: Ù…Ø·Ø¹Ù… Ø³Ù…ÙƒØŒ Ù…ØªØ¬Ø± Ù…Ù„Ø§Ø¨Ø³):</label>
    <input type="text" id="placeCategory" placeholder="Ø§ÙƒØªØ¨ ØªØµÙ†ÙŠÙ Ø§Ù„Ù…ÙƒØ§Ù†">
    <label>Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„:</label>                
    <select id="deliveryService">                
        <option value="yes">Ù†Ø¹Ù…</option>                
        <option value="no">Ù„Ø§</option>                
    </select>                
    <label>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø®Ø±Ù‰:</label>                
    <textarea id="otherInfo" rows="3" placeholder="Ø¶Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø®Ø±Ù‰ Ù‡Ù†Ø§"></textarea>                
</div>                
<button id="addPlaceBtn">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙƒØ§Ù†</button>                
<div class="success" id="successMsg" style="display:none;"></div>                
<button id="goToManage">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>                
</div>                
<script src="data_config.js"></script>                
<script>                
const placeType = document.getElementById('placeType');                
const hotelFields = document.getElementById('hotelFields');                
const otherFields = document.getElementById('otherFields');                
const addPlaceBtn = document.getElementById('addPlaceBtn');                
const successMsg = document.getElementById('successMsg');                
const goToManage = document.getElementById('goToManage');                
const placeFile = document.getElementById('placeFile');                
const previewImg = document.getElementById('previewImg');                
let placeBase64 = '';                
function toggleFields(){
    hotelFields.style.display = placeType.value==='hotel'?'block':'none';
    otherFields.style.display = (placeType.value==='restaurant'||placeType.value==='store')?'block':'none';
}
placeType.addEventListener('change', toggleFields);
toggleFields();

placeFile.addEventListener('change', (e)=>{
    const file = e.target.files[0];
    if(file){
        const reader = new FileReader();
        reader.onload = function(ev){
            placeBase64 = ev.target.result;
            previewImg.src = placeBase64;
            previewImg.style.display='block';
        }
        reader.readAsDataURL(file);
    }
});

addPlaceBtn.addEventListener('click', ()=>{
    const type = placeType.value;
    const name = document.getElementById('placeName').value.trim();
    const img = placeBase64 || document.getElementById('placeImage').value.trim();
    const map = document.getElementById('placeMap').value.trim();
    
    let priceNight='', priceWeek='', priceMonth='', extras='', delivery='no', otherInfo='', category='';                
    if(type==='hotel'){                
        priceNight = document.getElementById('priceNight').value.trim();                
        priceWeek = document.getElementById('priceWeek').value.trim();                
        priceMonth = document.getElementById('priceMonth').value.trim();                
        extras = document.getElementById('hotelExtras').value.trim();                
    } else {                
        category = document.getElementById('placeCategory').value.trim();
        delivery = document.getElementById('deliveryService').value;                
        otherInfo = document.getElementById('otherInfo').value.trim();                
    }                
                
    if(!name || !img){ alert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙˆØ±Ø©'); return; }                
                
    const itemData = { name, photoBase64: img, gmapsLink: map };                
    if(type==='hotel'){ 
        itemData.priceNight=priceNight; 
        itemData.priceWeek=priceWeek; 
        itemData.priceMonth=priceMonth; 
        itemData.extras=extras; 
    } else { 
        itemData.category = category;
        itemData.delivery = delivery; 
        itemData.otherInfo = otherInfo; 
    }                
                
    let saveKey = window.KEYS.HOTELS;                
    if(type==='restaurant') saveKey = window.KEYS.RESTAURANTS;                
    if(type==='store') saveKey = window.KEYS.STORES;                
                
    const result = window.saveContentItem(saveKey, itemData);                
    if(result){                
        successMsg.style.display='block';                
        successMsg.textContent=`ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙƒØ§Ù† Ø¨Ù†Ø¬Ø§Ø­! ÙƒÙˆØ¯ Ø§Ù„Ù…ÙƒØ§Ù†: ${result.code} | ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±: ${result.password} ÙŠØ±Ø¬Ù‰ Ø­ÙØ¸Ù‡Ù… Ù„ØªØªÙ„Ù‚ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ù… Ù„ØªØ­ÙˆÙŠÙ„Ùƒ Ø§Ù„Ù„ÙŠ ØµÙØ­Ù‡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ğŸ‘‡ğŸ‘‡`;                
        document.getElementById('placeName').value='';                
        document.getElementById('placeImage').value='';                
        document.getElementById('placeMap').value='';                
        document.getElementById('priceNight').value='';                
        document.getElementById('priceWeek').value='';                
        document.getElementById('priceMonth').value='';                
        document.getElementById('hotelExtras').value='';                
        if(type !== 'hotel') {
            document.getElementById('placeCategory').value = '';
            document.getElementById('otherInfo').value='';
        }
        placeBase64='';                
        previewImg.style.display='none';                
    } else alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸.');

});

goToManage.addEventListener('click', ()=>{
    window.location.href='orders_page.html';
});
</script>

</body>                
</html>
